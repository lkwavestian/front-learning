<template>
  <div class="keep-alive-demo">
    <!-- é¡µé¢å¤´éƒ¨ -->
    <div class="header-section">
      <h1>Vue2 Keep-Alive è¯¦è§£</h1>
      <p class="subtitle">ç†è§£ç»„ä»¶ç¼“å­˜æœºåˆ¶ã€ä½¿ç”¨åœºæ™¯ä¸å®æˆ˜åº”ç”¨</p>
    </div>

    <!-- å¿«é€Ÿå¯¼èˆª -->
    <div class="quick-nav">
      <a href="#what-is-keep-alive" class="nav-item">æ˜¯ä»€ä¹ˆ</a>
      <a href="#use-cases" class="nav-item">ä½¿ç”¨åœºæ™¯</a>
      <a href="#real-example" class="nav-item">çœŸå®ä¾‹å­</a>
      <a href="#hook-demo" class="nav-item">é’©å­æ¼”ç¤º</a>
      <a href="#router-level" class="nav-item">è·¯ç”±çº§ç¼“å­˜</a>
      <a href="#advanced-usage" class="nav-item">é«˜çº§ç”¨æ³•</a>
      <a href="#summary" class="nav-item">æ€»ç»“</a>
    </div>

    <!-- ä»€ä¹ˆæ˜¯ Keep-Alive -->
    <section id="what-is-keep-alive" class="content-section">
      <h2>ä»€ä¹ˆæ˜¯ Keep-Aliveï¼Ÿ</h2>
      <p class="section-intro">
        <code>&lt;keep-alive&gt;</code> æ˜¯ Vue2 å†…ç½®çš„ä¸€ä¸ªæŠ½è±¡ç»„ä»¶ï¼Œç”¨äºç¼“å­˜ç»„ä»¶å®ä¾‹ã€‚
        å½“ç»„ä»¶è¢«åŒ…è£¹åœ¨ <code>&lt;keep-alive&gt;</code> ä¸­æ—¶ï¼Œç»„ä»¶çš„çŠ¶æ€ä¼šè¢«ä¿ç•™ï¼Œ
        é¿å…é‡å¤æ¸²æŸ“ï¼Œæå‡ç”¨æˆ·ä½“éªŒå’Œæ€§èƒ½ã€‚
      </p>

      <div class="concept-grid">
        <div class="concept-card">
          <h3>ğŸ” æ ¸å¿ƒæ¦‚å¿µ</h3>
          <ul>
            <li><strong>ç»„ä»¶ç¼“å­˜</strong>ï¼šç¼“å­˜ä¸æ´»åŠ¨çš„ç»„ä»¶å®ä¾‹ï¼Œè€Œä¸æ˜¯é”€æ¯å®ƒä»¬</li>
            <li><strong>çŠ¶æ€ä¿æŒ</strong>ï¼šç»„ä»¶çš„æ‰€æœ‰çŠ¶æ€ï¼ˆæ•°æ®ã€DOMã€äº‹ä»¶ç›‘å¬å™¨ï¼‰éƒ½ä¼šè¢«ä¿ç•™</li>
            <li><strong>ç”Ÿå‘½å‘¨æœŸ</strong>ï¼šè¢«ç¼“å­˜çš„ç»„ä»¶ä¸ä¼šè§¦å‘ <code>destroyed</code> é’©å­</li>
            <li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šé¿å…é‡å¤çš„ç»„ä»¶åˆ›å»ºå’Œé”€æ¯ï¼Œå‡å°‘æ€§èƒ½å¼€é”€</li>
          </ul>
        </div>

        <div class="concept-card">
          <h3>âš™ï¸ å·¥ä½œåŸç†</h3>
          <ul>
            <li><strong>LRU ç®—æ³•</strong>ï¼šä½¿ç”¨æœ€è¿‘æœ€å°‘ä½¿ç”¨ç®—æ³•ç®¡ç†ç¼“å­˜</li>
            <li><strong>è™šæ‹Ÿ DOM</strong>ï¼šåœ¨è™šæ‹Ÿ DOM å±‚é¢è¿›è¡Œç»„ä»¶ç¼“å­˜</li>
            <li>
              <strong>æ¡ä»¶æ¸²æŸ“</strong>ï¼šæ ¹æ® <code>include</code>ã€<code>exclude</code>
              å±æ€§æ§åˆ¶ç¼“å­˜
            </li>
            <li><strong>åŠ¨æ€åˆ‡æ¢</strong>ï¼šæ”¯æŒåŠ¨æ€ç»„ä»¶çš„ç¼“å­˜ç®¡ç†</li>
          </ul>
        </div>

        <div class="concept-card">
          <h3>ğŸ¯ é€‚ç”¨ç»„ä»¶</h3>
          <ul>
            <li><strong>è·¯ç”±ç»„ä»¶</strong>ï¼šéœ€è¦ä¿æŒçŠ¶æ€çš„é¡µé¢ç»„ä»¶</li>
            <li><strong>è¡¨å•ç»„ä»¶</strong>ï¼šç”¨æˆ·è¾“å…¥å†…å®¹éœ€è¦ä¿ç•™çš„è¡¨å•</li>
            <li><strong>åˆ—è¡¨ç»„ä»¶</strong>ï¼šæ»šåŠ¨ä½ç½®ã€ç­›é€‰çŠ¶æ€éœ€è¦ä¿æŒçš„åˆ—è¡¨</li>
            <li><strong>å¤æ‚ç»„ä»¶</strong>ï¼šè®¡ç®—æˆæœ¬é«˜ã€æ¸²æŸ“è€—æ—¶çš„ç»„ä»¶</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- ä½¿ç”¨åœºæ™¯ -->
    <section id="use-cases" class="content-section">
      <h2>Keep-Alive çš„ä½¿ç”¨åœºæ™¯</h2>
      <p class="section-intro">
        <code>&lt;keep-alive&gt;</code>
        åœ¨å¤šç§åœºæ™¯ä¸‹éƒ½èƒ½å‘æŒ¥é‡è¦ä½œç”¨ï¼Œç‰¹åˆ«æ˜¯åœ¨éœ€è¦ä¿æŒç»„ä»¶çŠ¶æ€çš„åœºæ™¯ä¸­ã€‚
        äº†è§£è¿™äº›ä½¿ç”¨åœºæ™¯æœ‰åŠ©äºæˆ‘ä»¬æ›´å¥½åœ°åº”ç”¨ç»„ä»¶ç¼“å­˜æŠ€æœ¯ã€‚
      </p>

      <div class="scenarios-grid">
        <div class="scenario-card">
          <h3>ğŸ  å•é¡µåº”ç”¨è·¯ç”±</h3>
          <div class="scenario-content">
            <h4>åœºæ™¯æè¿°</h4>
            <p>åœ¨ SPA åº”ç”¨ä¸­ï¼Œç”¨æˆ·åœ¨ä¸åŒé¡µé¢é—´åˆ‡æ¢æ—¶ï¼Œå¸Œæœ›ä¿æŒä¹‹å‰é¡µé¢çš„çŠ¶æ€ã€‚</p>

            <h4>å…·ä½“åº”ç”¨</h4>
            <ul>
              <li>ç”¨æˆ·åˆ—è¡¨é¡µé¢ï¼šä¿æŒåˆ†é¡µã€ç­›é€‰ã€æ’åºçŠ¶æ€</li>
              <li>è¡¨å•é¡µé¢ï¼šä¿æŒç”¨æˆ·å·²è¾“å…¥çš„å†…å®¹</li>
              <li>è¯¦æƒ…é¡µé¢ï¼šä¿æŒå±•å¼€/æ”¶èµ·çŠ¶æ€</li>
              <li>è®¾ç½®é¡µé¢ï¼šä¿æŒç”¨æˆ·çš„é…ç½®é€‰æ‹©</li>
            </ul>
          </div>
        </div>

        <div class="scenario-card">
          <h3>ğŸ“ è¡¨å•ç»„ä»¶</h3>
          <div class="scenario-content">
            <h4>åœºæ™¯æè¿°</h4>
            <p>ç”¨æˆ·åœ¨å¡«å†™å¤æ‚è¡¨å•æ—¶ï¼Œå¯èƒ½éœ€è¦åˆ‡æ¢åˆ°å…¶ä»–é¡µé¢æŸ¥çœ‹ä¿¡æ¯ï¼Œè¿”å›åå¸Œæœ›è¡¨å•å†…å®¹ä¸ä¸¢å¤±ã€‚</p>

            <h4>å…·ä½“åº”ç”¨</h4>
            <ul>
              <li>å¤šæ­¥éª¤æ³¨å†Œè¡¨å•</li>
              <li>å•†å“å‘å¸ƒè¡¨å•</li>
              <li>æ–‡ç« ç¼–è¾‘é¡µé¢</li>
              <li>é…ç½®è®¾ç½®è¡¨å•</li>
            </ul>
          </div>
        </div>

        <div class="scenario-card">
          <h3>ğŸ“Š æ•°æ®å±•ç¤ºç»„ä»¶</h3>
          <div class="scenario-content">
            <h4>åœºæ™¯æè¿°</h4>
            <p>æ•°æ®å±•ç¤ºç»„ä»¶ï¼ˆå¦‚è¡¨æ ¼ã€å›¾è¡¨ï¼‰åœ¨ç”¨æˆ·æ“ä½œåéœ€è¦ä¿æŒå½“å‰çŠ¶æ€ï¼Œé¿å…é‡å¤åŠ è½½æ•°æ®ã€‚</p>

            <h4>å…·ä½“åº”ç”¨</h4>
            <ul>
              <li>æ•°æ®è¡¨æ ¼ï¼šä¿æŒåˆ†é¡µã€æ’åºã€ç­›é€‰çŠ¶æ€</li>
              <li>å›¾è¡¨ç»„ä»¶ï¼šä¿æŒç¼©æ”¾ã€å¹³ç§»ã€å›¾ä¾‹çŠ¶æ€</li>
              <li>æ ‘å½¢ç»„ä»¶ï¼šä¿æŒå±•å¼€/æ”¶èµ·çŠ¶æ€</li>
              <li>åˆ—è¡¨ç»„ä»¶ï¼šä¿æŒæ»šåŠ¨ä½ç½®ã€é€‰ä¸­çŠ¶æ€</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- çœŸå®ä¾‹å­ -->
    <section id="real-example" class="content-section">
      <h2>Keep-Alive çœŸå®ä¾‹å­æ¼”ç¤º</h2>
      <p class="section-intro">
        ä¸‹é¢é€šè¿‡ä¸€ä¸ªå®Œæ•´çš„ä¾‹å­æ¥æ¼”ç¤º <code>&lt;keep-alive&gt;</code> çš„å®é™…åº”ç”¨ã€‚
        è¿™ä¸ªä¾‹å­æ¨¡æ‹Ÿäº†ä¸€ä¸ªç”¨æˆ·ç®¡ç†ç³»ç»Ÿï¼ŒåŒ…å«ç”¨æˆ·åˆ—è¡¨ã€ç”¨æˆ·è¯¦æƒ…å’Œç”¨æˆ·ç¼–è¾‘ä¸‰ä¸ªç»„ä»¶ã€‚
      </p>

      <div class="demo-container">
        <!-- å¯¼èˆªæ§åˆ¶ -->
        <div class="demo-navigation">
          <h4>ç»„ä»¶åˆ‡æ¢æ§åˆ¶</h4>
          <div class="nav-buttons">
            <button
              @click="currentComponent = 'UserList'"
              :class="{ active: currentComponent === 'UserList' }"
              class="nav-btn"
            >
              ç”¨æˆ·åˆ—è¡¨
            </button>
            <button
              @click="currentComponent = 'UserDetail'"
              :class="{ active: currentComponent === 'UserDetail' }"
              class="nav-btn"
            >
              ç”¨æˆ·è¯¦æƒ…
            </button>
            <button
              @click="currentComponent = 'UserEdit'"
              :class="{ active: currentComponent === 'UserEdit' }"
              class="nav-btn"
            >
              ç”¨æˆ·ç¼–è¾‘
            </button>
          </div>

          <div class="keep-alive-control">
            <label class="control-label">
              <input type="checkbox" v-model="useKeepAlive" @change="toggleKeepAlive" />
              å¯ç”¨ Keep-Alive ç¼“å­˜
            </label>
            <p class="control-tip">
              {{ useKeepAlive ? "âœ… ç»„ä»¶çŠ¶æ€å°†è¢«ç¼“å­˜" : "âŒ ç»„ä»¶çŠ¶æ€å°†è¢«é”€æ¯" }}
            </p>
          </div>
        </div>

        <!-- ç»„ä»¶å±•ç¤ºåŒºåŸŸ -->
        <div class="component-display">
          <h4>ç»„ä»¶å†…å®¹å±•ç¤º</h4>

          <!-- ä½¿ç”¨ Keep-Alive åŒ…è£¹ -->
          <keep-alive v-if="useKeepAlive">
            <component :is="currentComponent" :key="currentComponent" />
          </keep-alive>

          <!-- ä¸ä½¿ç”¨ Keep-Alive -->
          <component v-else :is="currentComponent" :key="currentComponent" />
        </div>

        <!-- çŠ¶æ€ç›‘æ§ -->
        <div class="status-monitor">
          <h4>ç»„ä»¶ç”Ÿå‘½å‘¨æœŸç›‘æ§</h4>
          <div class="lifecycle-logs">
            <div v-for="(log, index) in lifecycleLogs" :key="index" :class="['log-item', log.type]">
              <span class="log-time">{{ log.time }}</span>
              <span class="log-component">{{ log.component }}</span>
              <span class="log-event">{{ log.event }}</span>
            </div>
          </div>
          <button @click="clearLogs" class="clear-btn">æ¸…ç©ºæ—¥å¿—</button>
        </div>
      </div>
    </section>

    <!-- Activated/Deactivated é’©å­æ¼”ç¤º -->
    <section id="hook-demo" class="content-section">
      <h2>Activated/Deactivated é’©å­æ•°æ®ç®¡ç†æ¼”ç¤º</h2>
      <p class="section-intro">
        <code>activated</code> å’Œ <code>deactivated</code> é’©å­æ˜¯ Vue2 ä¸­é…åˆ
        <code>&lt;keep-alive&gt;</code> ä½¿ç”¨çš„é‡è¦ç”Ÿå‘½å‘¨æœŸé’©å­ã€‚ å½“ç»„ä»¶è¢«
        <code>&lt;keep-alive&gt;</code> åŒ…è£¹æ—¶ï¼Œè¿™ä¸¤ä¸ªé’©å­ä¼šåœ¨ç»„ä»¶æ¿€æ´»å’Œåœç”¨æ—¶è§¦å‘ï¼Œ
        æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®ƒä»¬æ¥ç®¡ç†ç»„ä»¶çš„æ•°æ®çŠ¶æ€ã€å®šæ—¶å™¨ã€ç½‘ç»œè¿æ¥ç­‰èµ„æºã€‚
      </p>

      <div class="hook-overview">
        <h3>ğŸ¯ é’©å­ä½œç”¨æœºåˆ¶</h3>
        <div class="hook-mechanism">
          <div class="hook-card">
            <h4>activated é’©å­</h4>
            <p><strong>è§¦å‘æ—¶æœºï¼š</strong>ç»„ä»¶è¢«æ¿€æ´»æ—¶ï¼ˆä»ç¼“å­˜ä¸­æ¢å¤ï¼‰</p>
            <p><strong>ä¸»è¦ç”¨é€”ï¼š</strong></p>
            <ul>
              <li>æ¢å¤å®šæ—¶å™¨çŠ¶æ€</li>
              <li>é‡æ–°å»ºç«‹ç½‘ç»œè¿æ¥</li>
              <li>ä»æœ¬åœ°å­˜å‚¨æ¢å¤æ•°æ®</li>
              <li>å¯åŠ¨æ•°æ®åˆ·æ–°ä»»åŠ¡</li>
              <li>æ¢å¤ç”¨æˆ·ç•Œé¢çŠ¶æ€</li>
            </ul>
          </div>
          <div class="hook-card">
            <h4>deactivated é’©å­</h4>
            <p><strong>è§¦å‘æ—¶æœºï¼š</strong>ç»„ä»¶è¢«åœç”¨æ—¶ï¼ˆè¿›å…¥ç¼“å­˜ï¼‰</p>
            <p><strong>ä¸»è¦ç”¨é€”ï¼š</strong></p>
            <ul>
              <li>æš‚åœå®šæ—¶å™¨</li>
              <li>æ–­å¼€ç½‘ç»œè¿æ¥</li>
              <li>ä¿å­˜æ•°æ®åˆ°æœ¬åœ°å­˜å‚¨</li>
              <li>åœæ­¢æ•°æ®åˆ·æ–°ä»»åŠ¡</li>
              <li>ä¿å­˜ç”¨æˆ·ç•Œé¢çŠ¶æ€</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="hook-demo-section">
        <h3>ğŸ” å®é™…æ¼”ç¤º</h3>
        <p class="demo-intro">
          ä¸‹é¢æ¼”ç¤ºä¸¤ä¸ªä½¿ç”¨ <code>activated/deactivated</code> é’©å­çš„ç»„ä»¶ï¼š
          <strong>DataManager</strong>ï¼ˆæ•°æ®ç®¡ç†å™¨ï¼‰å’Œ
          <strong>NetworkManager</strong>ï¼ˆç½‘ç»œç®¡ç†å™¨ï¼‰ã€‚
          ä½ å¯ä»¥åˆ‡æ¢è¿™ä¸¤ä¸ªç»„ä»¶æ¥è§‚å¯Ÿé’©å­çš„è§¦å‘å’Œæ•°æ®çš„ä¿æŒã€‚
        </p>

        <div class="component-selector">
          <h4>é€‰æ‹©æ¼”ç¤ºç»„ä»¶ï¼š</h4>
          <div class="selector-buttons">
            <button
              @click="hookDemoComponent = 'DataManager'"
              :class="['selector-btn', { active: hookDemoComponent === 'DataManager' }]"
            >
              ğŸ“Š DataManager - æ•°æ®ç®¡ç†
            </button>
            <button
              @click="hookDemoComponent = 'NetworkManager'"
              :class="['selector-btn', { active: hookDemoComponent === 'NetworkManager' }]"
            >
              ğŸŒ NetworkManager - ç½‘ç»œç®¡ç†
            </button>
          </div>
        </div>

        <div class="hook-demo-container">
          <div class="demo-info">
            <h5>å½“å‰æ¼”ç¤ºç»„ä»¶ï¼š{{ hookDemoComponent }}</h5>
            <p class="demo-tip">
              ğŸ’¡ <strong>ä½¿ç”¨è¯´æ˜ï¼š</strong> <br />1. åœ¨ç»„ä»¶ä¸­æ“ä½œæ•°æ®ï¼ˆæ·»åŠ ã€åˆ é™¤ã€å¯åŠ¨å®šæ—¶å™¨ç­‰ï¼‰
              <br />2. åˆ‡æ¢åˆ°å…¶ä»–é¡µé¢ï¼ˆå¦‚ Keep-Alive æ¼”ç¤ºçš„å…¶ä»–éƒ¨åˆ†ï¼‰ <br />3.
              è¿”å›æ­¤é¡µé¢ï¼Œè§‚å¯Ÿæ•°æ®æ˜¯å¦ä¿æŒ <br />4. æŸ¥çœ‹ç”Ÿå‘½å‘¨æœŸæ—¥å¿—ï¼Œäº†è§£é’©å­çš„è§¦å‘æƒ…å†µ
            </p>
          </div>

          <div class="component-demo">
            <keep-alive>
              <component :is="hookDemoComponent" />
            </keep-alive>
          </div>
        </div>

        <div class="hook-benefits">
          <h3>ğŸ’¡ ä½¿ç”¨é’©å­çš„ä¼˜åŠ¿</h3>
          <div class="benefits-list">
            <div class="benefit-item">
              <h4>èµ„æºç®¡ç†</h4>
              <p>åœ¨ç»„ä»¶åœç”¨æ—¶è‡ªåŠ¨æš‚åœå®šæ—¶å™¨ã€ç½‘ç»œè¯·æ±‚ç­‰ï¼Œé¿å…èµ„æºæµªè´¹</p>
            </div>
            <div class="benefit-item">
              <h4>çŠ¶æ€ä¿æŒ</h4>
              <p>ç»„ä»¶è¢«ç¼“å­˜æ—¶ä¿æŒæ‰€æœ‰çŠ¶æ€ï¼Œç”¨æˆ·è¿”å›æ—¶æ— éœ€é‡æ–°æ“ä½œ</p>
            </div>
            <div class="benefit-item">
              <h4>æ€§èƒ½ä¼˜åŒ–</h4>
              <p>é¿å…é‡å¤çš„ç½‘ç»œè¯·æ±‚å’Œè®¡ç®—ï¼Œæå‡åº”ç”¨æ€§èƒ½</p>
            </div>
            <div class="benefit-item">
              <h4>ç”¨æˆ·ä½“éªŒ</h4>
              <p>ä¿æŒç”¨æˆ·çš„è¾“å…¥çŠ¶æ€å’Œæ“ä½œè¿›åº¦ï¼Œæå‡ä½¿ç”¨ä½“éªŒ</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- è·¯ç”±çº§ Keep-Alive ç¼“å­˜ç®¡ç† -->
    <section id="router-level" class="content-section">
      <h2>è·¯ç”±çº§ Keep-Alive ç¼“å­˜ç®¡ç†</h2>
      <p class="section-intro">
        åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦åœ¨è·¯ç”±çº§åˆ«ç»Ÿä¸€ç®¡ç† <code>&lt;keep-alive&gt;</code> çš„ç¼“å­˜ç­–ç•¥ã€‚
        è¿™æ ·å¯ä»¥å®ç°æ›´ç²¾ç»†çš„ç¼“å­˜æ§åˆ¶ï¼Œæå‡åº”ç”¨æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚
      </p>

      <div class="router-cache-overview">
        <h3>ğŸš€ è·¯ç”±çº§ç¼“å­˜çš„ä¼˜åŠ¿</h3>
        <div class="benefits-grid">
          <div class="benefit-item">
            <h4>ç»Ÿä¸€ç®¡ç†</h4>
            <p>åœ¨è·¯ç”±é…ç½®ä¸­ç»Ÿä¸€è®¾ç½®ç¼“å­˜ç­–ç•¥ï¼Œä¾¿äºç»´æŠ¤å’Œç®¡ç†</p>
          </div>
          <div class="benefit-item">
            <h4>çµæ´»æ§åˆ¶</h4>
            <p>æ”¯æŒ alwaysã€conditionalã€never ä¸‰ç§ç¼“å­˜ç­–ç•¥</p>
          </div>
          <div class="benefit-item">
            <h4>åŠ¨æ€è°ƒæ•´</h4>
            <p>å¯ä»¥æ ¹æ®è·¯ç”±å‚æ•°ã€ç”¨æˆ·æƒé™ç­‰åŠ¨æ€è°ƒæ•´ç¼“å­˜ç­–ç•¥</p>
          </div>
          <div class="benefit-item">
            <h4>æ€§èƒ½ä¼˜åŒ–</h4>
            <p>é¿å…ä¸å¿…è¦çš„ç»„ä»¶é‡æ–°æ¸²æŸ“ï¼Œæå‡åº”ç”¨æ€§èƒ½</p>
          </div>
        </div>
      </div>

      <div class="implementation-details">
        <h3>âš™ï¸ å®ç°åŸç†</h3>
        <div class="implementation-grid">
          <div class="impl-card">
            <h4>1. è·¯ç”±å…ƒä¿¡æ¯é…ç½®</h4>
            <p>åœ¨è·¯ç”±é…ç½®ä¸­æ·»åŠ  meta å­—æ®µï¼Œå®šä¹‰ç¼“å­˜ç­–ç•¥ï¼š</p>
            <pre><code>{
  path: "/keep-alive-demo",
  name: "KeepAliveDemo",
  component: () => import("../views/keepAliveDemo.vue"),
  meta: {
    keepAlive: true,
    cacheStrategy: "always" // always, conditional, never
  }
}</code></pre>
          </div>

          <div class="impl-card">
            <h4>2. App.vue ä¸­çš„ç¼“å­˜ç®¡ç†</h4>
            <p>ä½¿ç”¨ router-view çš„æ’æ§½è¯­æ³•å’Œ keep-alive ç»„ä»¶ï¼š</p>
            <pre><code>&lt;router-view v-slot="{ Component, route }"&gt;
  &lt;keep-alive :include="cachedComponents" :exclude="excludedComponents"&gt;
    &lt;component :is="Component" :key="route.path" /&gt;
  &lt;/keep-alive&gt;
&lt;/router-view&gt;</code></pre>
          </div>

          <div class="impl-card">
            <h4>3. åŠ¨æ€ç¼“å­˜ç­–ç•¥</h4>
            <p>æ ¹æ®è·¯ç”±å˜åŒ–è‡ªåŠ¨æ›´æ–°ç¼“å­˜ç­–ç•¥ï¼š</p>
            <pre><code>watch: {
  '$route'(to, from) {
    this.updateCacheStrategy(to);
  }
}</code></pre>
          </div>
        </div>
      </div>

      <div class="cache-strategies">
        <h3>ğŸ¯ ä¸‰ç§ç¼“å­˜ç­–ç•¥è¯¦è§£</h3>
        <div class="strategies-grid">
          <div class="strategy-card always">
            <h4>Always ç­–ç•¥</h4>
            <p class="strategy-desc">ç»„ä»¶æ€»æ˜¯è¢«ç¼“å­˜ï¼Œé€‚ç”¨äºï¼š</p>
            <ul>
              <li>ç”¨æˆ·åˆ—è¡¨é¡µé¢ï¼ˆä¿æŒåˆ†é¡µã€ç­›é€‰çŠ¶æ€ï¼‰</li>
              <li>è®¾ç½®é¡µé¢ï¼ˆä¿æŒç”¨æˆ·é…ç½®ï¼‰</li>
              <li>ä»ªè¡¨æ¿é¡µé¢ï¼ˆä¿æŒæ•°æ®å±•ç¤ºçŠ¶æ€ï¼‰</li>
            </ul>
            <div class="strategy-example">
              <strong>ç¤ºä¾‹è·¯ç”±ï¼š</strong>
              <code>MixinTest</code>, <code>ComponentVsPlugin</code>, <code>AxiosDemo</code>
            </div>
          </div>

          <div class="strategy-card conditional">
            <h4>Conditional ç­–ç•¥</h4>
            <p class="strategy-desc">æ ¹æ®æ¡ä»¶å†³å®šæ˜¯å¦ç¼“å­˜ï¼Œé€‚ç”¨äºï¼š</p>
            <ul>
              <li>è¯¦æƒ…é¡µé¢ï¼ˆæ ¹æ®IDå‚æ•°å†³å®šï¼‰</li>
              <li>ç¼–è¾‘é¡µé¢ï¼ˆæ ¹æ®ç”¨æˆ·æƒé™å†³å®šï¼‰</li>
              <li>æœç´¢ç»“æœé¡µï¼ˆæ ¹æ®æŸ¥è¯¢å‚æ•°å†³å®šï¼‰</li>
            </ul>
            <div class="strategy-example">
              <strong>ç¤ºä¾‹è·¯ç”±ï¼š</strong>
              <code>VuexTest</code>, <code>DynamicData</code>, <code>NextTickDemo</code>
            </div>
          </div>

          <div class="strategy-card never">
            <h4>Never ç­–ç•¥</h4>
            <p class="strategy-desc">ç»„ä»¶ä»ä¸è¢«ç¼“å­˜ï¼Œé€‚ç”¨äºï¼š</p>
            <ul>
              <li>ç™»å½•é¡µé¢ï¼ˆæ¯æ¬¡éƒ½éœ€è¦é‡æ–°æ¸²æŸ“ï¼‰</li>
              <li>é”™è¯¯é¡µé¢ï¼ˆä¸éœ€è¦ä¿æŒçŠ¶æ€ï¼‰</li>
              <li>ä¸´æ—¶é¡µé¢ï¼ˆçŠ¶æ€ä¸é‡è¦ï¼‰</li>
            </ul>
            <div class="strategy-example">
              <strong>ç¤ºä¾‹è·¯ç”±ï¼š</strong>
              <code>DataTest</code>, <code>ModifiersDemo</code>
            </div>
          </div>
        </div>
      </div>

      <div class="router-cache-demo">
        <h3>ğŸ” è·¯ç”±çº§ç¼“å­˜æ¼”ç¤º</h3>
        <p class="demo-intro">
          ä¸‹é¢æ¼”ç¤ºå¦‚ä½•åœ¨å®é™…é¡¹ç›®ä¸­ä½¿ç”¨è·¯ç”±çº§ keep-alive ç¼“å­˜ç®¡ç†ã€‚
          ä½ å¯ä»¥åˆ‡æ¢ä¸åŒçš„è·¯ç”±æ¥è§‚å¯Ÿç¼“å­˜è¡Œä¸ºã€‚
        </p>

        <div class="cache-control-panel">
          <h4>ç¼“å­˜æ§åˆ¶é¢æ¿</h4>
          <div class="control-buttons">
            <button @click="showCacheStatus" class="control-btn status-btn">æŸ¥çœ‹ç¼“å­˜çŠ¶æ€</button>
            <button @click="clearAllCache" class="control-btn clear-btn">æ¸…ç©ºæ‰€æœ‰ç¼“å­˜</button>
            <button @click="toggleCurrentCache" class="control-btn toggle-btn">
              åˆ‡æ¢å½“å‰é¡µé¢ç¼“å­˜
            </button>
          </div>

          <div class="cache-info" v-if="cacheInfo">
            <h5>å½“å‰ç¼“å­˜çŠ¶æ€ï¼š</h5>
            <div class="cache-details">
              <div class="cache-item">
                <span class="label">å·²ç¼“å­˜ç»„ä»¶ï¼š</span>
                <span class="value">{{ cacheInfo.cached.join(", ") || "æ— " }}</span>
              </div>
              <div class="cache-item">
                <span class="label">æ’é™¤ç»„ä»¶ï¼š</span>
                <span class="value">{{ cacheInfo.excluded.join(", ") || "æ— " }}</span>
              </div>
              <div class="cache-item">
                <span class="label">å½“å‰è·¯ç”±ï¼š</span>
                <span class="value">{{ $route.name }}</span>
              </div>
              <div class="cache-item">
                <span class="label">ç¼“å­˜ç­–ç•¥ï¼š</span>
                <span class="value">{{ $route.meta?.cacheStrategy || "æœªè®¾ç½®" }}</span>
              </div>
            </div>
          </div>
        </div>

        <div class="route-navigation">
          <h4>å¿«é€Ÿè·¯ç”±å¯¼èˆª</h4>
          <p class="nav-tip">ç‚¹å‡»ä¸‹é¢çš„æŒ‰é’®å¿«é€Ÿåˆ‡æ¢åˆ°ä¸åŒè·¯ç”±ï¼Œè§‚å¯Ÿç¼“å­˜è¡Œä¸ºï¼š</p>
          <div class="route-buttons">
            <button
              v-for="route in demoRoutes"
              :key="route.name"
              @click="navigateToRoute(route)"
              :class="['route-btn', { active: $route.name === route.name }]"
            >
              {{ route.name }} - {{ route.label }}
              <small>{{ route.cacheStrategy }}</small>
            </button>
          </div>
        </div>
      </div>

      <div class="advanced-cache-features">
        <h3>ğŸš€ é«˜çº§ç¼“å­˜åŠŸèƒ½</h3>
        <div class="features-grid">
          <div class="feature-card">
            <h4>æ¡ä»¶ç¼“å­˜é€»è¾‘</h4>
            <p>æ”¯æŒæ ¹æ®è·¯ç”±å‚æ•°ã€æŸ¥è¯¢å‚æ•°ã€ç”¨æˆ·æƒé™ç­‰æ¡ä»¶åŠ¨æ€å†³å®šæ˜¯å¦ç¼“å­˜ï¼š</p>
            <pre><code>shouldCacheComponent(route, componentName) {
  // æ ¹æ®è·¯ç”±å‚æ•°åˆ¤æ–­
  if (route.params && route.params.id) {
    return true;
  }
  
  // æ ¹æ®æŸ¥è¯¢å‚æ•°åˆ¤æ–­
  if (route.query && route.query.cache === 'true') {
    return true;
  }
  
  // æ ¹æ®ç”¨æˆ·æƒé™åˆ¤æ–­
  const userRole = localStorage.getItem('userRole');
  if (userRole === 'admin') {
    return true;
  }
  
  return false;
}</code></pre>
          </div>

          <div class="feature-card">
            <h4>æ‰‹åŠ¨ç¼“å­˜æ§åˆ¶</h4>
            <p>æä¾›æ‰‹åŠ¨æ§åˆ¶ç»„ä»¶ç¼“å­˜çš„APIï¼Œæ”¯æŒåŠ¨æ€è°ƒæ•´ç¼“å­˜ç­–ç•¥ï¼š</p>
            <pre><code>// æ‰‹åŠ¨æ§åˆ¶ç»„ä»¶ç¼“å­˜
this.$root.$cacheManager.toggle('ComponentName', true);

// æ¸…ç©ºæ‰€æœ‰ç¼“å­˜
this.$root.$cacheManager.clear();

// è·å–ç¼“å­˜çŠ¶æ€
const status = this.$root.$cacheManager.status();</code></pre>
          </div>

          <div class="feature-card">
            <h4>ç¼“å­˜çŠ¶æ€ç›‘æ§</h4>
            <p>å®æ—¶ç›‘æ§ç¼“å­˜çŠ¶æ€ï¼Œæ”¯æŒè°ƒè¯•å’Œæ€§èƒ½åˆ†æï¼š</p>
            <pre><code>watch: {
  '$route'(to, from) {
    this.updateCacheStrategy(to);
    console.log('ç¼“å­˜ç­–ç•¥æ›´æ–°:', {
      to: to.name,
      strategy: to.meta?.cacheStrategy
    });
  }
}</code></pre>
          </div>
        </div>
      </div>
    </section>

    <!-- æ€»ç»“ -->
    <section id="summary" class="content-section">
      <h2>Keep-Alive æ€»ç»“</h2>
      <div class="summary-content">
        <div class="summary-grid">
          <div class="summary-card">
            <h3>æ ¸å¿ƒè¦ç‚¹</h3>
            <ul>
              <li><strong>ç»„ä»¶ç¼“å­˜</strong>ï¼šç¼“å­˜ä¸æ´»åŠ¨çš„ç»„ä»¶å®ä¾‹ï¼Œä¿æŒçŠ¶æ€</li>
              <li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šé¿å…é‡å¤åˆ›å»ºå’Œé”€æ¯ï¼Œæå‡æ€§èƒ½</li>
              <li><strong>ç”¨æˆ·ä½“éªŒ</strong>ï¼šä¿æŒç”¨æˆ·æ“ä½œçŠ¶æ€ï¼Œæå‡æµç•…åº¦</li>
              <li><strong>çµæ´»æ§åˆ¶</strong>ï¼šé€šè¿‡å±æ€§ç²¾ç¡®æ§åˆ¶ç¼“å­˜è¡Œä¸º</li>
            </ul>
          </div>

          <div class="summary-card">
            <h3>ä½¿ç”¨å»ºè®®</h3>
            <ul>
              <li>åˆç†ä½¿ç”¨ï¼Œé¿å…è¿‡åº¦ç¼“å­˜å¯¼è‡´å†…å­˜å ç”¨è¿‡é«˜</li>
              <li>é…åˆ activated/deactivated é’©å­è¿›è¡Œæ•°æ®ç®¡ç†</li>
              <li>ä½¿ç”¨ include/exclude ç²¾ç¡®æ§åˆ¶ç¼“å­˜èŒƒå›´</li>
              <li>åœ¨è·¯ç”±çº§åˆ«ç»Ÿä¸€ç®¡ç†ç¼“å­˜ç­–ç•¥</li>
              <li>æ ¹æ®ä¸šåŠ¡éœ€æ±‚é€‰æ‹©åˆé€‚çš„ç¼“å­˜ç­–ç•¥ï¼ˆalways/conditional/neverï¼‰</li>
              <li>åˆ©ç”¨è·¯ç”±å…ƒä¿¡æ¯çµæ´»é…ç½®ç¼“å­˜è¡Œä¸º</li>
            </ul>
          </div>
        </div>

        <div class="key-points">
          <h3>å…³é”®è¦ç‚¹</h3>
          <p>
            <code>&lt;keep-alive&gt;</code> æ˜¯ Vue2
            ä¸­éå¸¸é‡è¦çš„æ€§èƒ½ä¼˜åŒ–å·¥å…·ï¼Œå®ƒé€šè¿‡ç¼“å­˜ç»„ä»¶å®ä¾‹æ¥é¿å…é‡å¤æ¸²æŸ“ï¼Œ
            ç‰¹åˆ«é€‚ç”¨äºéœ€è¦ä¿æŒçŠ¶æ€çš„åœºæ™¯ã€‚åˆç†ä½¿ç”¨ keep-alive å¯ä»¥æ˜¾è‘—æå‡åº”ç”¨æ€§èƒ½å’Œç”¨æˆ·ä½“éªŒã€‚
          </p>
          <p class="router-cache-summary">
            <strong>è·¯ç”±çº§ç¼“å­˜ç®¡ç†</strong>ï¼šé€šè¿‡è·¯ç”±å…ƒä¿¡æ¯é…ç½®ç¼“å­˜ç­–ç•¥ï¼Œåœ¨ App.vue ä¸­ç»Ÿä¸€ç®¡ç†ï¼Œ
            æ”¯æŒ alwaysã€conditionalã€never ä¸‰ç§ç­–ç•¥ï¼Œå®ç°æ›´ç²¾ç»†çš„ç¼“å­˜æ§åˆ¶å’Œæ›´å¥½çš„æ€§èƒ½ä¼˜åŒ–ã€‚
          </p>
        </div>
      </div>
    </section>
  </div>
</template>

<script>
import UserList from "../components/UserList.vue";
import UserDetail from "../components/UserDetail.vue";
import UserEdit from "../components/UserEdit.vue";
import DataManager from "../components/DataManager.vue";
import NetworkManager from "../components/NetworkManager.vue";

export default {
  name: "KeepAliveDemo",
  components: {
    UserList,
    UserDetail,
    UserEdit,
    DataManager,
    NetworkManager,
  },
  data() {
    return {
      currentComponent: "UserList",
      useKeepAlive: true,
      lifecycleLogs: [],
      cacheInfo: null,
      // æ–°å¢ï¼šactivated/deactivated é’©å­æ¼”ç¤ºç»„ä»¶
      hookDemoComponent: "DataManager",
      demoRoutes: [
        { name: "VuexTest", label: "Vuex æµ‹è¯•", cacheStrategy: "conditional" },
        { name: "DataTest", label: "Data å±æ€§", cacheStrategy: "never" },
        { name: "MixinTest", label: "Mixin è¯¦è§£", cacheStrategy: "always" },
        { name: "ModifiersDemo", label: "ä¿®é¥°ç¬¦", cacheStrategy: "never" },
        { name: "SlotDemo", label: "æ’æ§½è¯¦è§£", cacheStrategy: "conditional" },
        { name: "AxiosDemo", label: "Axios è¯¦è§£", cacheStrategy: "always" },
        { name: "PermissionDemo", label: "æƒé™ç®¡ç†", cacheStrategy: "conditional" },
        { name: "KeepAliveDemo", label: "Keep-Alive", cacheStrategy: "always" },
      ],
    };
  },

  //beforeRouteEnter ä¹Ÿå¯ä»¥å®ç°åœ¨ç¼“å­˜ç»„ä»¶ä¸­åˆ·æ–°æ•°æ®ï¼Œåªä¸è¿‡ä¸€å®šæ˜¯å¾—åœ¨è·¯ç”±ç»„ä»¶ä¸­
  beforeRouteEnter(to, from, next) {
    console.log("beforeRouteEnter", to, from);
    next((vm) => {
      console.log("vm", vm);
      vm.componentStatus = "active";
    });
  },
  methods: {
    toggleKeepAlive() {
      this.addLog("System", "Keep-Alive", this.useKeepAlive ? "å¯ç”¨" : "ç¦ç”¨");
    },
    addLog(component, event, detail = "") {
      const now = new Date();
      const time = now.toLocaleTimeString();
      this.lifecycleLogs.unshift({
        time,
        component,
        event,
        detail,
        type: "info",
      });

      // é™åˆ¶æ—¥å¿—æ•°é‡
      if (this.lifecycleLogs.length > 20) {
        this.lifecycleLogs = this.lifecycleLogs.slice(0, 20);
      }
    },
    clearLogs() {
      this.lifecycleLogs = [];
    },
    // è·¯ç”±çº§ç¼“å­˜ç›¸å…³æ–¹æ³•
    showCacheStatus() {
      if (this.$root.$cacheManager) {
        this.cacheInfo = this.$root.$cacheManager.status();
        this.addLog("System", "ç¼“å­˜çŠ¶æ€", "å·²è·å–å½“å‰ç¼“å­˜çŠ¶æ€");
      } else {
        this.addLog("System", "ç¼“å­˜çŠ¶æ€", "ç¼“å­˜ç®¡ç†å™¨æœªåˆå§‹åŒ–");
      }
    },
    clearAllCache() {
      if (this.$root.$cacheManager) {
        this.$root.$cacheManager.clear();
        this.cacheInfo = null;
        this.addLog("System", "æ¸…ç©ºç¼“å­˜", "å·²æ¸…ç©ºæ‰€æœ‰ç»„ä»¶ç¼“å­˜");
      } else {
        this.addLog("System", "æ¸…ç©ºç¼“å­˜", "ç¼“å­˜ç®¡ç†å™¨æœªåˆå§‹åŒ–");
      }
    },
    toggleCurrentCache() {
      if (this.$root.$cacheManager) {
        const currentRoute = this.$route.name;
        const isCurrentlyCached = this.cacheInfo?.cached.includes(currentRoute);
        const shouldCache = !isCurrentlyCached;

        this.$root.$cacheManager.toggle(currentRoute, shouldCache);
        this.showCacheStatus(); // åˆ·æ–°ç¼“å­˜çŠ¶æ€

        this.addLog(
          "System",
          "åˆ‡æ¢ç¼“å­˜",
          `${currentRoute} ${shouldCache ? "å·²å¯ç”¨ç¼“å­˜" : "å·²ç¦ç”¨ç¼“å­˜"}`
        );
      } else {
        this.addLog("System", "åˆ‡æ¢ç¼“å­˜", "ç¼“å­˜ç®¡ç†å™¨æœªåˆå§‹åŒ–");
      }
    },
    navigateToRoute(route) {
      this.$router.push({ name: route.name });
      this.addLog("System", "è·¯ç”±åˆ‡æ¢", `åˆ‡æ¢åˆ° ${route.label} (${route.cacheStrategy})`);

      // å»¶è¿Ÿè·å–ç¼“å­˜çŠ¶æ€ï¼Œç­‰å¾…è·¯ç”±åˆ‡æ¢å®Œæˆ
      setTimeout(() => {
        this.showCacheStatus();
      }, 100);
    },
  },
  watch: {
    currentComponent(newVal, oldVal) {
      this.addLog("System", "ç»„ä»¶åˆ‡æ¢", `${oldVal} â†’ ${newVal}`);
    },
  },
};
</script>

<style scoped>
.keep-alive-demo {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
}

.header-section {
  text-align: center;
  margin-bottom: 40px;
  padding: 40px 0;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  border-radius: 12px;
}

.header-section h1 {
  font-size: 2.5rem;
  margin-bottom: 10px;
  font-weight: 700;
}

.subtitle {
  font-size: 1.2rem;
  opacity: 0.9;
}

.quick-nav {
  display: flex;
  justify-content: center;
  flex-wrap: wrap;
  gap: 15px;
  margin-bottom: 40px;
  padding: 20px;
  background: #f8f9fa;
  border-radius: 8px;
}

.nav-item {
  padding: 8px 16px;
  background: #007bff;
  color: white;
  text-decoration: none;
  border-radius: 20px;
  font-size: 0.9rem;
  transition: all 0.3s ease;
}

.nav-item:hover {
  background: #0056b3;
  transform: translateY(-2px);
}

.content-section {
  margin-bottom: 50px;
  padding: 30px;
  background: white;
  border-radius: 12px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

.content-section h2 {
  color: #2c3e50;
  font-size: 1.8rem;
  margin-bottom: 20px;
  padding-bottom: 10px;
  border-bottom: 3px solid #3498db;
}

.section-intro {
  font-size: 1.1rem;
  color: #555;
  margin-bottom: 25px;
  line-height: 1.6;
}

.concept-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
  margin-top: 25px;
}

.concept-card {
  padding: 20px;
  background: #f8f9fa;
  border-radius: 8px;
  border-left: 4px solid #3498db;
}

.concept-card h3 {
  color: #2c3e50;
  margin-bottom: 15px;
}

.concept-card ul {
  padding-left: 20px;
}

.concept-card li {
  margin-bottom: 8px;
  color: #555;
}

.scenarios-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 25px;
  margin-top: 25px;
}

.scenario-card {
  padding: 25px;
  background: #f8f9fa;
  border-radius: 10px;
  border-left: 4px solid #ffc107;
}

.scenario-card h3 {
  color: #2c3e50;
  margin-bottom: 20px;
  font-size: 1.3rem;
}

.scenario-content h4 {
  color: #2c3e50;
  margin: 15px 0 8px 0;
  font-size: 1.1rem;
}

.scenario-content p {
  color: #555;
  margin-bottom: 10px;
  line-height: 1.5;
}

.scenario-content ul {
  padding-left: 20px;
  color: #555;
}

.scenario-content li {
  margin-bottom: 5px;
}

.benefits-section {
  margin-top: 30px;
}

.benefits-section h3 {
  color: #2c3e50;
  margin-bottom: 20px;
  font-size: 1.4rem;
}

.benefits-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
}

.benefit-item {
  display: flex;
  align-items: flex-start;
  gap: 15px;
  padding: 20px;
  background: white;
  border-radius: 8px;
  border-left: 4px solid #28a745;
}

.benefit-icon {
  font-size: 2rem;
  flex-shrink: 0;
}

.benefit-content h4 {
  color: #2c3e50;
  margin-bottom: 8px;
  font-size: 1.1rem;
}

.benefit-content p {
  color: #555;
  line-height: 1.5;
  margin: 0;
}

.demo-container {
  margin-top: 30px;
}

.demo-navigation {
  background: #f8f9fa;
  padding: 25px;
  border-radius: 8px;
  border: 2px solid #e9ecef;
  margin-bottom: 25px;
}

.demo-navigation h4 {
  color: #2c3e50;
  margin-bottom: 20px;
  font-size: 1.2rem;
}

.nav-buttons {
  display: flex;
  gap: 15px;
  margin-bottom: 20px;
  flex-wrap: wrap;
}

.nav-btn {
  padding: 10px 20px;
  border: 2px solid #3498db;
  background: white;
  color: #3498db;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 1rem;
}

.nav-btn:hover {
  background: #3498db;
  color: white;
}

.nav-btn.active {
  background: #3498db;
  color: white;
}

.keep-alive-control {
  padding: 20px;
  background: white;
  border-radius: 6px;
  border-left: 4px solid #17a2b8;
}

.control-label {
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: 600;
  color: #2c3e50;
  margin-bottom: 10px;
}

.control-label input[type="checkbox"] {
  width: 18px;
  height: 18px;
}

.control-tip {
  color: #555;
  margin: 0;
  font-size: 0.9rem;
}

.component-display {
  background: #f8f9fa;
  padding: 25px;
  border-radius: 8px;
  border: 2px solid #e9ecef;
  margin-bottom: 25px;
}

.component-display h4 {
  color: #2c3e50;
  margin-bottom: 20px;
  font-size: 1.2rem;
}

.status-monitor {
  background: #f8f9fa;
  padding: 25px;
  border-radius: 8px;
  border: 2px solid #e9ecef;
  margin-bottom: 25px;
}

.status-monitor h4 {
  color: #2c3e50;
  margin-bottom: 20px;
  font-size: 1.2rem;
}

.lifecycle-logs {
  max-height: 300px;
  overflow-y: auto;
  background: white;
  border-radius: 6px;
  padding: 15px;
  margin-bottom: 15px;
}

.log-item {
  display: flex;
  gap: 15px;
  padding: 8px 12px;
  margin-bottom: 8px;
  background: #f8f9fa;
  border-radius: 4px;
  font-family: monospace;
  font-size: 0.9rem;
}

.log-item.info {
  border-left: 3px solid #17a2b8;
}

.log-item.warning {
  border-left: 3px solid #ffc107;
}

.log-item.error {
  border-left: 3px solid #dc3545;
}

.log-time {
  color: #6c757d;
  min-width: 80px;
}

.log-component {
  color: #495057;
  min-width: 100px;
}

.log-event {
  color: #212529;
}

.clear-btn {
  padding: 8px 16px;
  background: #6c757d;
  color: white;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  transition: background 0.3s ease;
}

.clear-btn:hover {
  background: #5a6268;
}

.usage-instruction {
  background: #e3f2fd;
  padding: 25px;
  border-radius: 8px;
  border-left: 4px solid #2196f3;
}

.usage-instruction h4 {
  color: #2c3e50;
  margin-bottom: 20px;
  font-size: 1.2rem;
}

.instruction-content ol {
  padding-left: 20px;
  color: #555;
}

.instruction-content li {
  margin-bottom: 10px;
  line-height: 1.6;
}

.instruction-content ul {
  padding-left: 20px;
  margin-top: 8px;
}

.instruction-content li li {
  margin-bottom: 5px;
}

.advanced-features {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
  gap: 25px;
  margin-top: 25px;
}

.feature-card {
  padding: 25px;
  background: #f8f9fa;
  border-radius: 10px;
  border-left: 4px solid #6f42c1;
}

.feature-card h3 {
  color: #2c3e50;
  margin-bottom: 20px;
  font-size: 1.3rem;
}

.feature-content p {
  color: #555;
  margin-bottom: 15px;
  line-height: 1.6;
}

.feature-content h4 {
  color: #2c3e50;
  margin: 20px 0 10px 0;
  font-size: 1.1rem;
}

.feature-content ul {
  padding-left: 20px;
  color: #555;
  margin-bottom: 15px;
}

.feature-content li {
  margin-bottom: 5px;
}

.feature-content pre {
  background: #2d3748;
  color: #e2e8f0;
  padding: 15px;
  border-radius: 6px;
  overflow-x: auto;
  margin: 10px 0;
  font-size: 0.9rem;
}

.feature-content code {
  background: #f1f3f4;
  color: #d73a49;
  padding: 2px 6px;
  border-radius: 3px;
  font-family: monospace;
  font-size: 0.9rem;
}

.code-example {
  background: #e3f2fd;
  padding: 20px;
  border-radius: 8px;
  border-left: 4px solid #2196f3;
  margin-top: 25px;
}

.code-example h4 {
  color: #2c3e50;
  margin-bottom: 15px;
  font-size: 1.2rem;
}

.example-description p {
  color: #555;
  margin-bottom: 15px;
  line-height: 1.6;
}

.example-description ul {
  padding-left: 20px;
  color: #555;
}

.example-description li {
  margin-bottom: 8px;
}

.summary-content {
  margin-top: 25px;
}

.summary-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 25px;
  margin-bottom: 30px;
}

.summary-card {
  padding: 25px;
  background: #f8f9fa;
  border-radius: 10px;
  border-left: 4px solid #ffc107;
}

.summary-card h3 {
  color: #2c3e50;
  margin-bottom: 20px;
  font-size: 1.3rem;
}

.summary-card ul {
  padding-left: 20px;
}

.summary-card li {
  margin-bottom: 10px;
  color: #555;
  line-height: 1.5;
}

.summary-card strong {
  color: #2c3e50;
}

.key-points {
  padding: 25px;
  background: #e3f2fd;
  border-radius: 10px;
  border-left: 4px solid #2196f3;
}

.key-points h3 {
  color: #2c3e50;
  margin-bottom: 15px;
  font-size: 1.3rem;
}

.key-points p {
  color: #555;
  line-height: 1.6;
  font-size: 1.1rem;
}

.router-cache-summary {
  margin-top: 15px;
  font-size: 0.95rem;
  color: #555;
  line-height: 1.5;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  .keep-alive-demo {
    padding: 15px;
  }

  .header-section h1 {
    font-size: 2rem;
  }

  .quick-nav {
    flex-direction: column;
    align-items: center;
  }

  .concept-grid {
    grid-template-columns: 1fr;
  }

  .scenarios-grid {
    grid-template-columns: 1fr;
  }

  .summary-grid {
    grid-template-columns: 1fr;
  }

  .nav-buttons {
    flex-direction: column;
  }

  .nav-btn {
    text-align: center;
  }
}

/* è·¯ç”±çº§ç¼“å­˜ç›¸å…³æ ·å¼ */
.router-cache-overview {
  margin-bottom: 30px;
}

.router-cache-overview h3 {
  color: #2c3e50;
  margin-bottom: 20px;
  font-size: 1.4rem;
}

.benefits-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 20px;
  margin-top: 20px;
}

.benefit-item {
  padding: 20px;
  background: #f8f9fa;
  border-radius: 8px;
  border-left: 4px solid #28a745;
}

.benefit-item h4 {
  color: #2c3e50;
  margin-bottom: 10px;
  font-size: 1.1rem;
}

.benefit-item p {
  color: #555;
  margin: 0;
  line-height: 1.5;
}

.implementation-details {
  margin-bottom: 30px;
}

.implementation-details h3 {
  color: #2c3e50;
  margin-bottom: 20px;
  font-size: 1.4rem;
}

.implementation-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
  gap: 25px;
  margin-top: 20px;
}

.impl-card {
  padding: 25px;
  background: #f8f9fa;
  border-radius: 10px;
  border-left: 4px solid #6f42c1;
}

.impl-card h4 {
  color: #2c3e50;
  margin-bottom: 15px;
  font-size: 1.2rem;
}

.impl-card p {
  color: #555;
  margin-bottom: 15px;
  line-height: 1.6;
}

.impl-card pre {
  background: #2d3748;
  color: #e2e8f0;
  padding: 15px;
  border-radius: 6px;
  overflow-x: auto;
  margin: 10px 0;
  font-size: 0.9rem;
}

.impl-card code {
  padding: 2px 6px;
  border-radius: 3px;
  font-family: monospace;
  font-size: 0.9rem;
}

.cache-strategies {
  margin-bottom: 30px;
}

.cache-strategies h3 {
  color: #2c3e50;
  margin-bottom: 20px;
  font-size: 1.4rem;
}

.strategies-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 25px;
  margin-top: 20px;
}

.strategy-card {
  padding: 25px;
  border-radius: 10px;
  border-left: 4px solid;
}

.strategy-card.always {
  background: #e8f5e8;
  border-left-color: #28a745;
}

.strategy-card.conditional {
  background: #fff3cd;
  border-left-color: #ffc107;
}

.strategy-card.never {
  background: #f8d7da;
  border-left-color: #dc3545;
}

.strategy-card h4 {
  color: #2c3e50;
  margin-bottom: 15px;
  font-size: 1.2rem;
}

.strategy-desc {
  color: #555;
  margin-bottom: 15px;
  font-weight: 600;
}

.strategy-card ul {
  padding-left: 20px;
  color: #555;
  margin-bottom: 15px;
}

.strategy-card li {
  margin-bottom: 8px;
  line-height: 1.5;
}

.strategy-example {
  padding: 15px;
  background: rgba(255, 255, 255, 0.7);
  border-radius: 6px;
  font-size: 0.9rem;
}

.strategy-example strong {
  color: #2c3e50;
}

.strategy-example code {
  padding: 2px 6px;
  border-radius: 3px;
  font-family: monospace;
  font-size: 0.9rem;
}

.router-cache-demo {
  margin-bottom: 30px;
}

.router-cache-demo h3 {
  color: #2c3e50;
  margin-bottom: 20px;
  font-size: 1.4rem;
}

.demo-intro {
  color: #555;
  margin-bottom: 25px;
  line-height: 1.6;
}

.cache-control-panel {
  background: #f8f9fa;
  padding: 25px;
  border-radius: 8px;
  border: 2px solid #e9ecef;
  margin-bottom: 25px;
}

.cache-control-panel h4 {
  color: #2c3e50;
  margin-bottom: 20px;
  font-size: 1.2rem;
}

.control-buttons {
  display: flex;
  gap: 15px;
  margin-bottom: 20px;
  flex-wrap: wrap;
}

.control-btn {
  padding: 10px 20px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 1rem;
  font-weight: 600;
}

.status-btn {
  background: #17a2b8;
  color: white;
}

.status-btn:hover {
  background: #138496;
}

.clear-btn {
  background: #dc3545;
  color: white;
}

.clear-btn:hover {
  background: #c82333;
}

.toggle-btn {
  background: #ffc107;
  color: #212529;
}

.toggle-btn:hover {
  background: #e0a800;
}

.cache-info {
  background: white;
  padding: 20px;
  border-radius: 6px;
  border-left: 4px solid #17a2b8;
}

.cache-info h5 {
  color: #2c3e50;
  margin-bottom: 15px;
  font-size: 1.1rem;
}

.cache-details {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 15px;
}

.cache-item {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.cache-item .label {
  font-weight: 600;
  color: #495057;
  font-size: 0.9rem;
}

.cache-item .value {
  color: #212529;
  font-family: monospace;
  background: #f8f9fa;
  padding: 5px 8px;
  border-radius: 4px;
  font-size: 0.9rem;
}

.route-navigation {
  background: #f8f9fa;
  padding: 25px;
  border-radius: 8px;
  border: 2px solid #e9ecef;
}

.route-navigation h4 {
  color: #2c3e50;
  margin-bottom: 15px;
  font-size: 1.2rem;
}

.nav-tip {
  color: #555;
  margin-bottom: 20px;
  line-height: 1.5;
}

.route-buttons {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
  gap: 15px;
}

.route-btn {
  padding: 12px 16px;
  border: 2px solid #6c757d;
  background: white;
  color: #495057;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 0.9rem;
  text-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 5px;
}

.route-btn:hover {
  border-color: #007bff;
  color: #007bff;
  transform: translateY(-2px);
}

.route-btn.active {
  background: #007bff;
  border-color: #007bff;
  color: white;
}

.route-btn small {
  font-size: 0.8rem;
  opacity: 0.8;
  text-transform: uppercase;
  font-weight: 600;
}

.advanced-cache-features {
  margin-bottom: 30px;
}

.advanced-cache-features h3 {
  color: #2c3e50;
  margin-bottom: 20px;
  font-size: 1.4rem;
}

.features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
  gap: 25px;
  margin-top: 20px;
}

.feature-card {
  padding: 25px;
  background: #f8f9fa;
  border-radius: 10px;
  border-left: 4px solid #6f42c1;
}

.feature-card h4 {
  color: #2c3e50;
  margin-bottom: 15px;
  font-size: 1.2rem;
}

.feature-card p {
  color: #555;
  margin-bottom: 15px;
  line-height: 1.6;
}

.feature-card pre {
  background: #2d3748;
  color: #e2e8f0;
  padding: 15px;
  border-radius: 6px;
  overflow-x: auto;
  margin: 10px 0;
  font-size: 0.9rem;
}

.feature-card code {
  padding: 2px 6px;
  border-radius: 3px;
  font-family: monospace;
  font-size: 0.9rem;
}

/* Hook Demo æ ·å¼ */
.hook-overview {
  margin-bottom: 30px;
}

.hook-overview h3 {
  color: #2c3e50;
  margin-bottom: 20px;
  font-size: 1.4rem;
}

.hook-mechanism {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
  gap: 25px;
  margin-top: 20px;
}

.hook-card {
  padding: 25px;
  background: #f8f9fa;
  border-radius: 10px;
  border-left: 4px solid #28a745;
}

.hook-card h4 {
  color: #2c3e50;
  margin-bottom: 15px;
  font-size: 1.2rem;
}

.hook-card p {
  color: #555;
  margin-bottom: 15px;
  line-height: 1.6;
}

.hook-card ul {
  padding-left: 20px;
  color: #555;
}

.hook-card li {
  margin-bottom: 8px;
  line-height: 1.5;
}

.hook-demo-section {
  margin-bottom: 30px;
}

.hook-demo-section h3 {
  color: #2c3e50;
  margin-bottom: 20px;
  font-size: 1.4rem;
}

.component-selector {
  background: #f8f9fa;
  padding: 25px;
  border-radius: 8px;
  border: 2px solid #e9ecef;
  margin-bottom: 25px;
}

.component-selector h4 {
  color: #2c3e50;
  margin-bottom: 20px;
  font-size: 1.2rem;
}

.selector-buttons {
  display: flex;
  gap: 15px;
  flex-wrap: wrap;
}

.selector-btn {
  padding: 12px 24px;
  border: 2px solid #e9ecef;
  background: white;
  color: #495057;
  border-radius: 8px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-size: 1rem;
  font-weight: 600;
}

.selector-btn:hover {
  border-color: #007bff;
  color: #007bff;
  transform: translateY(-2px);
}

.selector-btn.active {
  background: #007bff;
  border-color: #007bff;
  color: white;
}

.hook-demo-container {
  background: #f8f9fa;
  padding: 25px;
  border-radius: 8px;
  border: 2px solid #e9ecef;
  margin-bottom: 25px;
}

.demo-info h5 {
  color: #2c3e50;
  margin-bottom: 15px;
  font-size: 1.1rem;
}

.demo-tip {
  background: #e3f2fd;
  border: 1px solid #2196f3;
  border-radius: 6px;
  padding: 15px;
  color: #1565c0;
  line-height: 1.6;
  margin-bottom: 20px;
}

.component-demo {
  background: white;
  border-radius: 8px;
  border: 2px solid #e9ecef;
  overflow: hidden;
}

.hook-benefits {
  margin-bottom: 30px;
}

.hook-benefits h3 {
  color: #2c3e50;
  margin-bottom: 20px;
  font-size: 1.4rem;
}

.benefits-list {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
  margin-top: 20px;
}

.benefit-item {
  padding: 20px;
  background: #f8f9fa;
  border-radius: 8px;
  border-left: 4px solid #ffc107;
}

.benefit-item h4 {
  color: #2c3e50;
  margin-bottom: 10px;
  font-size: 1.1rem;
}

.benefit-item p {
  color: #555;
  line-height: 1.5;
  margin: 0;
}

/* å“åº”å¼è°ƒæ•´ */
@media (max-width: 768px) {
  .benefits-grid {
    grid-template-columns: 1fr;
  }

  .implementation-grid {
    grid-template-columns: 1fr;
  }

  .strategies-grid {
    grid-template-columns: 1fr;
  }

  .features-grid {
    grid-template-columns: 1fr;
  }

  .control-buttons {
    flex-direction: column;
  }

  .route-buttons {
    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  }

  .cache-details {
    grid-template-columns: 1fr;
  }

  .hook-mechanism {
    grid-template-columns: 1fr;
  }

  .benefits-list {
    grid-template-columns: 1fr;
  }

  .selector-buttons {
    flex-direction: column;
  }
}
</style>
